<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
//    var r, arr = ['apple', 'strawberry', 'banana', 'pear', 'apple', 'orange', 'orange', 'strawberry'];
//
//    r = arr.filter(function (element, index, self) {
//        console.log(self.indexOf(element) + "\\" + element);
//        console.log("===" + index);
//        return self.indexOf(element) === index;
//    });
//
//    console.log(r.toString());
//根据返回值true和false判断去留
    function get_primes(arr) {
        var s;
        s = arr.filter(function (element) {
            var flag = true;
            if(element == 1){
                flag = false;
                return flag;
            }
            for(var i = 2; i <=Math.sqrt(element); i++){
               if(element % i === 0){
                   flag = false;
                   return flag;
                   break;
               }
            }
            return flag;
        });
        return s;
    }

    // 测试:
    var
        x,
        r,
        arr = [];
    for (x = 1; x < 100; x++) {
        arr.push(x);
    }
    r = get_primes(arr);
    if (r.toString() === [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97].toString()) {
        console.log('测试通过!');
    } else {
        console.log('测试失败: ' + r.toString());
    }
</script>
</body>
</html>