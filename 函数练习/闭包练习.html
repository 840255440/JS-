<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function count() {
        var arr = [];
        for (var i=1; i<=3; i++) {
            arr.push((function (m) {
               return function () {
                   return m*m;
               }
            })(i));
        }
        return arr;
    }
//创建一个匿名函数并立刻执行
    var results = count();
    var f1 = results[0];
    var f2 = results[1];
    var f3 = results[2];
    console.log(f1+f2+f3);
    console.log(results);

    function create_counter(initial) {
        var x = initial || 0;
        return {
            inc: function () {
                x += 1;
                return x;
            }
        }
    }
    var c1 = create_counter();
    console.log(  c1.inc(),c1.inc(),c1.inc());

    //闭包还可以把多参数的函数变成单参数的函数
    function make_pow(n) {
        return function (x) {
            return Math.pow(x,n);
        }
    }

    var pow2 = make_pow(2);
    console.log(pow2(10));
</script>
</body>
</html>